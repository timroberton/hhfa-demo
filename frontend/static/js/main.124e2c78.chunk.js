(this["webpackJsonptr-mono"]=this["webpackJsonptr-mono"]||[]).push([[0],{231:function(e){e.exports=JSON.parse('{"variables":[],"indicators":[],"analyses":[]}')},232:function(e){e.exports=JSON.parse('{"white":"#fff","black":"#000","gray":{"50":"#f9fafb","100":"#f3f4f6","200":"#e5e7eb","300":"#d1d5db","400":"#9ca3af","500":"#6b7280","600":"#4b5563","700":"#374151","800":"#1f2937","900":"#111827"},"blue":{"50":"#F7F9FC","100":"#EEF2F9","200":"#D5DFEF","300":"#BBCBE5","400":"#88A4D2","500":"#557DBF","600":"#4D71AC","700":"#334B73","800":"#263856","900":"#1A2639"},"green":{"50":"#F5FBFA","100":"#EAF7F5","200":"#CCEBE6","300":"#ADDFD7","400":"#6FC8BA","500":"#31B09C","600":"#2C9E8C","700":"#1D6A5E","800":"#164F46","900":"#0F352F"},"red":{"50":"#FEF7F6","100":"#FDEEEE","200":"#FAD5D3","300":"#F7BBB9","400":"#F28885","500":"#EC5550","600":"#D44D48","700":"#8E3330","800":"#6A2624","900":"#471A18"},"purple":{"50":"#F8F5FA","100":"#F2EBF4","200":"#DECDE4","300":"#CBAED4","400":"#A372B4","500":"#7C3594","600":"#703085","700":"#4A2059","800":"#381843","900":"#25102C"},"orange":{"50":"#FFFBF3","100":"#FFF7E8","200":"#FEEBC5","300":"#FDDEA3","400":"#FCC65D","500":"#FBAD18","600":"#E29C16","700":"#97680E","800":"#714E0B","900":"#4B3407"}}')},249:function(e,t,a){},300:function(e,t,a){},308:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(14),c=a(111),s=(a(249),a(20)),i=a(181),l=a(132),o=a(242);i.a.use(o.a).use(l.e).init({resources:{en:{translation:{variable:"Variables"}},fr:{translation:{variable:"French variables"}},pt:{translation:{variable:"Portuguese variables"}}},fallbackLng:"pt",debug:!1,load:"languageOnly",interpolation:{escapeValue:!1}});i.a;var u,d=a(54),b=a(309);function j(e){return JSON.parse(JSON.stringify(e))}!function(e){e.TableMultiIndicatorDisaggregated="TableMultiIndicatorDisaggregated",e.PlotSingleIndicatorDisaggregated="PlotSingleIndicatorDisaggregated",e.PlotMultiIndicator="PlotMultiIndicator",e.TableMultiIndicatorDisaggregatedFiltered="TableMultiIndicatorDisaggregatedFiltered",e.PlotSingleIndicatorDisaggregatedFiltered="PlotSingleIndicatorDisaggregatedFiltered",e.PlotMultiIndicatorFiltered="PlotMultiIndicatorFiltered"}(u||(u={}));var m=a(231);function p(){var e=Object(r.useState)(j(m)),t=Object(s.a)(e,2),a=t[0],n=t[1];return{structure:a,createOrUpdateVariable:function(e,t){var r=j(a);if(r.variables.filter((function(a){return a.variableName===e.variableName&&a.variableName!==t})).length>0)return"Already a variable with this name";var c=r.variables.findIndex((function(e){return e.variableName===t}));return-1===c?r.variables.push(e):r.variables[c]=e,n(r),""},deleteVariable:function(e){var t=j(a),r=t.variables.findIndex((function(t){return t.variableName===e}));return r>-1&&t.variables.splice(r,1),n(t),""},createOrUpdateIndicator:function(e,t){var r=j(a);if(r.indicators.filter((function(a){return a.indicatorName===e.indicatorName&&a.indicatorName!==t})).length>0)return"Already an indicator with this name";var c=r.indicators.findIndex((function(e){return e.indicatorName===t}));return-1===c?r.indicators.push(e):r.indicators[c]=e,n(r),""},deleteIndicator:function(e){var t=j(a),r=t.indicators.findIndex((function(t){return t.indicatorName===e}));return r>-1&&t.indicators.splice(r,1),n(t),""},createOrUpdateAnalysis:function(e,t){var r=j(a);if(r.analyses.filter((function(a){return a.analysisId===e.analysisId&&a.analysisId!==t})).length>0)return"Already an analysis with this id";var c=r.analyses.findIndex((function(e){return e.analysisId===t}));return-1===c?r.analyses.push(e):r.analyses[c]=e,n(r),""},deleteAnalysis:function(e){var t=j(a),r=t.analyses.findIndex((function(t){return t.analysisId===e}));return r>-1&&t.analyses.splice(r,1),n(t),""},clearAnalyses:function(){var e=j(a);return e.analyses=[],n(e),""}}}var h,x,v,O,f=a(31),g=a.n(f),y=a(133),N=a(43),w=a(103),C=a.n(w),E="http://localhost:9000";function k(){return M.apply(this,arguments)}function M(){return(M=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("".concat(E,"/new_session"));case 3:if(!(t=e.sent).data.error){e.next=7;break}return console.log(t.data.msg),e.abrupt("return",null);case 7:return e.abrupt("return",t.data.data);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function L(e){return S.apply(this,arguments)}function S(){return(S=Object(N.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("".concat(E,"/end_session/").concat(t));case 3:if(!(a=e.sent).data.error){e.next=7;break}return console.log(a.data.msg),e.abrupt("return",{error:!0,msg:a.data.msg||"No error message"});case 7:return e.abrupt("return",{error:!1,msg:""});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:!0,msg:"Could not connect to backend"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function D(e,t){return A.apply(this,arguments)}function A(){return(A=Object(N.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("".concat(E,"/varlist"),{session_id:t,file_name:a});case 3:if(!(n=e.sent).data.error){e.next=7;break}return console.log(n.data.msg),e.abrupt("return",null);case 7:return e.abrupt("return",n.data.data);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function I(e,t){return V.apply(this,arguments)}function V(){return(V=Object(N.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("".concat(E,"/delete_upload/").concat(t,"/").concat(a));case 3:if(!(n=e.sent).data.error){e.next=7;break}return console.log(n.data.msg),e.abrupt("return",{error:!0,msg:n.data.msg||"No error message"});case 7:return e.abrupt("return",{error:!1,msg:""});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:!0,msg:"Could not connect to backend"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function z(e){return F.apply(this,arguments)}function F(){return(F=Object(N.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.analyses.forEach((function(e,t){e.analysisId="A"+(t+1)})),e.next=4,C.a.post("".concat(E,"/render_script"),t,{responseType:"text"});case 4:if(!(a=e.sent).data.error){e.next=8;break}return console.log(a.data.msg),e.abrupt("return",null);case 8:return e.abrupt("return",a.data.data);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function H(e,t,a){return R.apply(this,arguments)}function R(){return(R=Object(N.a)(g.a.mark((function e(t,a,n){var r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.analyses.forEach((function(e,t){e.analysisId="A"+(t+1)})),r={session_id:t,file_name:a,structure:n},e.next=5,C.a.post("".concat(E,"/analyze"),r);case 5:if(!(c=e.sent).data.error){e.next=9;break}return console.log(c.data.msg),e.abrupt("return",null);case 9:return e.abrupt("return",c.data.data);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(e){e.One="One",e.Two="Two",e.Three="Three",e.Four="Four"}(O||(O={}));var T=(h={},Object(d.a)(h,O.One,{rawVars:[],fileName:"",ready:!1}),Object(d.a)(h,O.Two,{rawVars:[],fileName:"",ready:!1}),Object(d.a)(h,O.Three,{rawVars:[],fileName:"",ready:!1}),Object(d.a)(h,O.Four,{rawVars:[],fileName:"",ready:!1}),h),U=(x={},Object(d.a)(x,O.One,!1),Object(d.a)(x,O.Two,!1),Object(d.a)(x,O.Three,!1),Object(d.a)(x,O.Four,!1),x);function B(){return j(U)}var G=(v={},Object(d.a)(v,O.One,""),Object(d.a)(v,O.Two,""),Object(d.a)(v,O.Three,""),Object(d.a)(v,O.Four,""),v);function P(){return j(G)}var W;a(232);!function(e){e.WHITE="white",e.BLACK="black",e.GRAY="gray",e.RED="red",e.ORANGE="orange",e.YELLOW="yellow",e.GREEN="green",e.TEAL="teal",e.BLUE="blue",e.INDIGO="indigo",e.PURPLE="purple",e.PINK="pink"}(W||(W={}));var Y=W.BLUE;function K(e){switch(e){case W.WHITE:return" text-white bg-gray-400 hover:bg-gray-300 active:bg-gray-500 ";case W.BLACK:return" text-white bg-gray-800 hover:bg-gray-900 active:bg-gray-700";case W.GRAY:return" text-white bg-gray-500 hover:bg-gray-600 active:bg-gray-700 ";case W.RED:return" text-white bg-red-500 hover:bg-red-600 active:bg-red-700 ";case W.ORANGE:return" text-white bg-orange-500 hover:bg-orange-600 active:bg-orange-700 ";case W.YELLOW:return" text-white bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 ";case W.GREEN:return" text-white bg-green-500 hover:bg-green-600 active:bg-green-700 ";case W.TEAL:return" text-white bg-teal-500 hover:bg-teal-600 active:bg-teal-700 ";case W.BLUE:return" text-white bg-blue-500 hover:bg-blue-600 active:bg-blue-700 ";case W.INDIGO:return" text-white bg-indigo-500 hover:bg-indigo-600 active:bg-indigo-700 ";case W.PURPLE:return" text-white bg-purple-500 hover:bg-purple-600 active:bg-purple-700 ";case W.PINK:return" text-white bg-pink-500 hover:bg-pink-600 active:bg-pink-700 ";default:return K(Y)}}function _(e){switch(e){case W.WHITE:return" text-white bg-gradient-to-br from-gray-300 to-gray-400 hover:from-gray-200 hover:to-gray-300 active:from-gray-400 active:to-gray-500 ";case W.BLACK:return" text-white bg-gradient-to-br from-gray-700 to-gray-800 hover:from-gray-600 hover:to-gray-700 active:from-gray-800 active:to-gray-900 ";case W.GRAY:return" text-white bg-gradient-to-br from-gray-500 to-gray-600 hover:from-gray-400 hover:to-gray-500 active:from-gray-600 active:to-gray-700 ";case W.RED:return" text-white bg-gradient-to-br from-red-500 to-red-600 hover:from-red-400 hover:to-red-500 active:from-red-600 active:to-red-700 ";case W.ORANGE:return" text-white bg-gradient-to-br from-orange-500 to-orange-600 hover:from-orange-400 hover:to-orange-500 active:from-orange-600 active:to-orange-700 ";case W.YELLOW:return" text-white bg-gradient-to-br from-yellow-500 to-yellow-600 hover:from-yellow-400 hover:to-yellow-500 active:from-yellow-600 active:to-yellow-700 ";case W.GREEN:return" text-white bg-gradient-to-br from-green-500 to-green-600 hover:from-green-400 hover:to-green-500 active:from-green-600 active:to-green-700 ";case W.TEAL:return" text-white bg-gradient-to-br from-teal-500 to-teal-600 hover:from-teal-400 hover:to-teal-500 active:from-teal-600 active:to-teal-700 ";case W.BLUE:return" text-white bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-400 hover:to-blue-500 active:from-blue-600 active:to-blue-700 ";case W.INDIGO:return" text-white bg-gradient-to-br from-indigo-500 to-indigo-600 hover:from-indigo-400 hover:to-indigo-500 active:from-indigo-600 active:to-indigo-700 ";case W.PURPLE:return" text-white bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-400 hover:to-purple-500 active:from-purple-600 active:to-purple-700 ";case W.PINK:return" text-white bg-gradient-to-br from-pink-500 to-pink-600 hover:from-pink-400 hover:to-pink-500 active:from-pink-600 active:to-pink-700 ";default:return _(Y)}}function q(e){switch(e){case W.WHITE:return" bg-white ";case W.BLACK:return" bg-black ";case W.GRAY:return" bg-gray-200 ";case W.RED:return" bg-red-200 ";case W.ORANGE:return" bg-orange-200 ";case W.YELLOW:return" bg-yellow-200 ";case W.GREEN:return" bg-green-200 ";case W.TEAL:return" bg-teal-200 ";case W.BLUE:return" bg-blue-200 ";case W.INDIGO:return" bg-indigo-200 ";case W.PURPLE:return" bg-purple-200 ";case W.PINK:return" bg-pink-200 ";default:return q(Y)}}function J(e){switch(e){case W.WHITE:return" bg-white ";case W.BLACK:return" bg-black ";case W.GRAY:return" bg-gray-700 ";case W.RED:return" bg-red-700 ";case W.ORANGE:return" bg-orange-700 ";case W.YELLOW:return" bg-yellow-700 ";case W.GREEN:return" bg-green-700 ";case W.TEAL:return" bg-teal-700 ";case W.BLUE:return" bg-blue-700 ";case W.INDIGO:return" bg-indigo-700 ";case W.PURPLE:return" bg-purple-700 ";case W.PINK:return" bg-pink-700 ";default:return J(Y)}}function Q(e){switch(e){case W.WHITE:return" text-white ";case W.BLACK:return" text-black ";case W.GRAY:return" text-gray-700 ";case W.RED:return" text-red-700 ";case W.ORANGE:return" text-orange-700 ";case W.YELLOW:return" text-yellow-700 ";case W.GREEN:return" text-green-700 ";case W.TEAL:return" text-teal-700 ";case W.BLUE:return" text-blue-700 ";case W.INDIGO:return" text-indigo-700 ";case W.PURPLE:return" text-purple-700 ";case W.PINK:return" text-pink-700 ";default:return Q(Y)}}function Z(e){var t=e.name;return t?Object(n.jsx)("div",{className:"pointer-events-none",style:{margin:0,padding:0,height:e.size||"100%",width:e.size||"100%"},children:Object(n.jsxs)("svg",{className:"block pointer-events-none fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"100%",height:"100%",children:["arrow-left"===t&&Object(n.jsx)("path",{d:"M5.41 11H21a1 1 0 0 1 0 2H5.41l5.3 5.3a1 1 0 0 1-1.42 1.4l-7-7a1 1 0 0 1 0-1.4l7-7a1 1 0 0 1 1.42 1.4L5.4 11z"}),"arrow-right"===t&&Object(n.jsx)("path",{d:"M18.59 13H3a1 1 0 0 1 0-2h15.59l-5.3-5.3a1 1 0 1 1 1.42-1.4l7 7a1 1 0 0 1 0 1.4l-7 7a1 1 0 0 1-1.42-1.4l5.3-5.3z"}),"download"===t&&Object(n.jsx)("path",{d:"M11 14.59V3a1 1 0 0 1 2 0v11.59l3.3-3.3a1 1 0 0 1 1.4 1.42l-5 5a1 1 0 0 1-1.4 0l-5-5a1 1 0 0 1 1.4-1.42l3.3 3.3zM3 17a1 1 0 0 1 2 0v3h14v-3a1 1 0 0 1 2 0v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-3z"}),"info"===t&&Object(n.jsx)("path",{d:"M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-9a1 1 0 0 1 1 1v4a1 1 0 0 1-2 0v-4a1 1 0 0 1 1-1zm0-4a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}),"zoom-in"===t&&Object(n.jsx)("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm1-7h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H7a1 1 0 0 1 0-2h2V7a1 1 0 1 1 2 0v2z"}),"zoom-out"===t&&Object(n.jsx)("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm4-6a1 1 0 0 1-1 1H7a1 1 0 0 1 0-2h6a1 1 0 0 1 1 1z"}),"comment"===t&&Object(n.jsx)("path",{d:"M2 15V5c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v15a1 1 0 0 1-1.7.7L16.58 17H4a2 2 0 0 1-2-2zM20 5H4v10h13a1 1 0 0 1 .7.3l2.3 2.29V5z"}),"check"===t&&Object(n.jsx)("path",{d:"M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM13.41 12l1.42 1.41a1 1 0 1 1-1.42 1.42L12 13.4l-1.41 1.42a1 1 0 1 1-1.42-1.42L10.6 12l-1.42-1.41a1 1 0 1 1 1.42-1.42L12 10.6l1.41-1.42a1 1 0 1 1 1.42 1.42L13.4 12z"}),"tick"===t&&Object(n.jsx)("path",{d:"M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-2.3-8.7l1.3 1.29 3.3-3.3a1 1 0 0 1 1.4 1.42l-4 4a1 1 0 0 1-1.4 0l-2-2a1 1 0 0 1 1.4-1.42z"}),"question"===t&&Object(n.jsx)("path",{d:"M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM10.59 8.59a1 1 0 1 1-1.42-1.42 4 4 0 1 1 5.66 5.66l-2.12 2.12a1 1 0 1 1-1.42-1.42l2.12-2.12A2 2 0 0 0 10.6 8.6zM12 18a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}),"menu"===t&&Object(n.jsx)("path",{d:"M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"}),"dollar"===t&&Object(n.jsx)("path",{d:"M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm1-11v2h1a3 3 0 0 1 0 6h-1v1a1 1 0 0 1-2 0v-1H8a1 1 0 0 1 0-2h3v-2h-1a3 3 0 0 1 0-6h1V6a1 1 0 0 1 2 0v1h3a1 1 0 0 1 0 2h-3zm-2 0h-1a1 1 0 1 0 0 2h1V9zm2 6h1a1 1 0 0 0 0-2h-1v2z"}),"edit"===t&&Object(n.jsx)("path",{d:"M6.3 12.3l10-10a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1 0 1.4l-10 10a1 1 0 0 1-.7.3H7a1 1 0 0 1-1-1v-4a1 1 0 0 1 .3-.7zM8 16h2.59l9-9L17 4.41l-9 9V16zm10-2a1 1 0 0 1 2 0v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h6a1 1 0 0 1 0 2H4v14h14v-6z"}),"clock"===t&&Object(n.jsx)("path",{d:"M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm1-8.41l2.54 2.53a1 1 0 0 1-1.42 1.42L11.3 12.7A1 1 0 0 1 11 12V8a1 1 0 0 1 2 0v3.59z"}),"dot-2"===t&&Object(n.jsx)("path",{d:"M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z"}),"dot"===t&&Object(n.jsx)("path",{d:"M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12z"}),"user-tick"===t&&Object(n.jsx)("path",{d:"M9 12A5 5 0 1 1 9 2a5 5 0 0 1 0 10zm0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm8 11a1 1 0 0 1-2 0v-2a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v2a1 1 0 0 1-2 0v-2a5 5 0 0 1 5-5h5a5 5 0 0 1 5 5v2zm-1.3-10.7l1.3 1.29 3.3-3.3a1 1 0 0 1 1.4 1.42l-4 4a1 1 0 0 1-1.4 0l-2-2a1 1 0 0 1 1.4-1.42z"}),"calendar"===t&&Object(n.jsx)("path",{d:"M17 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h2V3a1 1 0 1 1 2 0v1h6V3a1 1 0 0 1 2 0v1zm-2 2H9v1a1 1 0 1 1-2 0V6H5v4h14V6h-2v1a1 1 0 0 1-2 0V6zm4 6H5v8h14v-8z"}),"location"===t&&Object(n.jsx)("path",{d:"M5.64 16.36a9 9 0 1 1 12.72 0l-5.65 5.66a1 1 0 0 1-1.42 0l-5.65-5.66zm11.31-1.41a7 7 0 1 0-9.9 0L12 19.9l4.95-4.95zM12 14a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0-2a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}),"tag"===t&&Object(n.jsx)("path",{d:"M2.59 13.41A1.98 1.98 0 0 1 2 12V7a5 5 0 0 1 5-5h4.99c.53 0 1.04.2 1.42.59l8 8a2 2 0 0 1 0 2.82l-8 8a2 2 0 0 1-2.82 0l-8-8zM20 12l-8-8H7a3 3 0 0 0-3 3v5l8 8 8-8zM7 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}),"users-multi"===t&&Object(n.jsx)("path",{d:"M9 12A5 5 0 1 1 9 2a5 5 0 0 1 0 10zm0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm7 11a1 1 0 0 1-2 0v-2a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v2a1 1 0 0 1-2 0v-2a5 5 0 0 1 5-5h4a5 5 0 0 1 5 5v2zm1-5a1 1 0 0 1 0-2 5 5 0 0 1 5 5v2a1 1 0 0 1-2 0v-2a3 3 0 0 0-3-3zm-2-4a1 1 0 0 1 0-2 3 3 0 0 0 0-6 1 1 0 0 1 0-2 5 5 0 0 1 0 10z"}),"user"===t&&Object(n.jsx)("path",{d:"M12 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10zm0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm9 11a1 1 0 0 1-2 0v-2a3 3 0 0 0-3-3H8a3 3 0 0 0-3 3v2a1 1 0 0 1-2 0v-2a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5v2z"}),"thumbs-up"===t&&Object(n.jsx)("path",{d:"M17.62 10H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H8.5c-1.2 0-2.3-.72-2.74-1.79l-3.5-7-.03-.06A3 3 0 0 1 5 9h5V4c0-1.1.9-2 2-2h1.62l4 8zM16 11.24L12.38 4H12v7H5a1 1 0 0 0-.93 1.36l3.5 7.02a1 1 0 0 0 .93.62H16v-8.76zm2 .76v8h2v-8h-2z"}),"cog"===t&&Object(n.jsx)("path",{d:"M9 4.58V4c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v.58a8 8 0 0 1 1.92 1.11l.5-.29a2 2 0 0 1 2.74.73l1 1.74a2 2 0 0 1-.73 2.73l-.5.29a8.06 8.06 0 0 1 0 2.22l.5.3a2 2 0 0 1 .73 2.72l-1 1.74a2 2 0 0 1-2.73.73l-.5-.3A8 8 0 0 1 15 19.43V20a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-.58a8 8 0 0 1-1.92-1.11l-.5.29a2 2 0 0 1-2.74-.73l-1-1.74a2 2 0 0 1 .73-2.73l.5-.29a8.06 8.06 0 0 1 0-2.22l-.5-.3a2 2 0 0 1-.73-2.72l1-1.74a2 2 0 0 1 2.73-.73l.5.3A8 8 0 0 1 9 4.57zM7.88 7.64l-.54.51-1.77-1.02-1 1.74 1.76 1.01-.17.73a6.02 6.02 0 0 0 0 2.78l.17.73-1.76 1.01 1 1.74 1.77-1.02.54.51a6 6 0 0 0 2.4 1.4l.72.2V20h2v-2.04l.71-.2a6 6 0 0 0 2.41-1.4l.54-.51 1.77 1.02 1-1.74-1.76-1.01.17-.73a6.02 6.02 0 0 0 0-2.78l-.17-.73 1.76-1.01-1-1.74-1.77 1.02-.54-.51a6 6 0 0 0-2.4-1.4l-.72-.2V4h-2v2.04l-.71.2a6 6 0 0 0-2.41 1.4zM12 16a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0-2a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}),"mail"===t&&Object(n.jsx)("path",{d:"M4 4h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm16 3.38V6H4v1.38l8 4 8-4zm0 2.24l-7.55 3.77a1 1 0 0 1-.9 0L4 9.62V18h16V9.62z"})]})}):null}var X=function(e){var t=Object(r.useMemo)((function(){return function(e){switch(e){case"home":return"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6";case"users":return"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z";case"folder":return"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z";case"calendar":return"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z";case"star":return"M11.0489 2.92707C11.3483 2.00576 12.6517 2.00576 12.9511 2.92707L14.4697 7.60083C14.6035 8.01285 14.9875 8.29181 15.4207 8.29181H20.335C21.3037 8.29181 21.7065 9.53143 20.9228 10.1008L16.947 12.9894C16.5965 13.244 16.4499 13.6954 16.5838 14.1074L18.1024 18.7812C18.4017 19.7025 17.3472 20.4686 16.5635 19.8992L12.5878 17.0107C12.2373 16.756 11.7627 16.756 11.4122 17.0107L7.43647 19.8992C6.65276 20.4686 5.59828 19.7025 5.89763 18.7812L7.41623 14.1074C7.5501 13.6954 7.40344 13.244 7.05296 12.9894L3.07722 10.1008C2.2935 9.53143 2.69628 8.29181 3.665 8.29181H8.57929C9.01251 8.29181 9.39647 8.01285 9.53034 7.60083L11.0489 2.92707Z";case"inbox":return"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4";case"chart-bar":return"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z";case"presentation-chart-bar":return"M8 13V12M12 13V10M16 13V8M8 21L12 17L16 21M3 4H21M4 4H20V16C20 16.5523 19.5523 17 19 17H5C4.44772 17 4 16.5523 4 16V4Z";case"calculator":return"M9 7H15M15 17V14M12 17H12.01M9 17H9.01M9 14H9.01M12 14H12.01M15 11H15.01M12 11H12.01M9 11H9.01M7 21H17C18.1046 21 19 20.1046 19 19V5C19 3.89543 18.1046 3 17 3H7C5.89543 3 5 3.89543 5 5V19C5 20.1046 5.89543 21 7 21Z";case"download":return"M4 16L4 17C4 18.6569 5.34315 20 7 20L17 20C18.6569 20 20 18.6569 20 17L20 16M16 12L12 16M12 16L8 12M12 16L12 4";case"cloud-upload":return"M7 16C4.79086 16 3 14.2091 3 12C3 10.0929 4.33457 8.4976 6.12071 8.09695C6.04169 7.74395 6 7.37684 6 7C6 4.23858 8.23858 2 11 2C13.4193 2 15.4373 3.71825 15.9002 6.00098C15.9334 6.00033 15.9666 6 16 6C18.7614 6 21 8.23858 21 11C21 13.419 19.2822 15.4367 17 15.9M15 13L12 10M12 10L9 13M12 10L12 22";case"trash":return"M19 7L18.1327 19.1425C18.0579 20.1891 17.187 21 16.1378 21H7.86224C6.81296 21 5.94208 20.1891 5.86732 19.1425L5 7M10 11V17M14 11V17M15 7V4C15 3.44772 14.5523 3 14 3H10C9.44772 3 9 3.44772 9 4V7M4 7H20";case"office-building":return"M19 21V5C19 3.89543 18.1046 3 17 3H7C5.89543 3 5 3.89543 5 5V21M19 21L21 21M19 21H14M5 21L3 21M5 21H10M9 6.99998H10M9 11H10M14 6.99998H15M14 11H15M10 21V16C10 15.4477 10.4477 15 11 15H13C13.5523 15 14 15.4477 14 16V21M10 21H14";case"database":return"M4 7V17C4 19.2091 7.58172 21 12 21C16.4183 21 20 19.2091 20 17V7M4 7C4 9.20914 7.58172 11 12 11C16.4183 11 20 9.20914 20 7M4 7C4 4.79086 7.58172 3 12 3C16.4183 3 20 4.79086 20 7M20 12C20 14.2091 16.4183 16 12 16C7.58172 16 4 14.2091 4 12";case"adjustments":return"M12 6V4M12 6C10.8954 6 10 6.89543 10 8C10 9.10457 10.8954 10 12 10M12 6C13.1046 6 14 6.89543 14 8C14 9.10457 13.1046 10 12 10M6 18C7.10457 18 8 17.1046 8 16C8 14.8954 7.10457 14 6 14M6 18C4.89543 18 4 17.1046 4 16C4 14.8954 4.89543 14 6 14M6 18V20M6 14V4M12 10V20M18 18C19.1046 18 20 17.1046 20 16C20 14.8954 19.1046 14 18 14M18 18C16.8954 18 16 17.1046 16 16C16 14.8954 16.8954 14 18 14M18 18V20M18 14V4";case"globe-alt":return"M21 12C21 16.9706 16.9706 21 12 21M21 12C21 7.02944 16.9706 3 12 3M21 12H3M12 21C7.02944 21 3 16.9706 3 12M12 21C13.6569 21 15 16.9706 15 12C15 7.02944 13.6569 3 12 3M12 21C10.3431 21 9 16.9706 9 12C9 7.02944 10.3431 3 12 3M3 12C3 7.02944 7.02944 3 12 3";case"logout":return"M17 16L21 12M21 12L17 8M21 12L7 12M13 16V17C13 18.6569 11.6569 20 10 20H6C4.34315 20 3 18.6569 3 17V7C3 5.34315 4.34315 4 6 4H10C11.6569 4 13 5.34315 13 7V8";case"code":return"M10 20L14 4M18 8L22 12L18 16M6 16L2 12L6 8";case"minus-sm":return"M18 12H6";case"plus-sm":return"M12 6V12M12 12V18M12 12H18M12 12L6 12";default:throw new Error("Icon name not provided")}}(e.name)}),[e.name]),a=Object(r.useMemo)((function(){return function(e){switch(e){case W.WHITE:return"text-white group-focus:text-white";case W.BLUE:default:return"text-blue-400 group-focus:text-blue-300"}}(e.color)}),[e.color]),c=e.size?e.size:"1.5rem";return Object(n.jsx)("svg",{style:{height:c,width:c},className:"".concat(a),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:t})})};var $,ee=" w-full m-0 px-3 py-2 leading-tight text-sm appearance-none bg-white border border-gray-300 text-gray-800 rounded-md focus:border-blue-500 outline-none focus:outline-none ";!function(e){e.button="button",e.submit="submit"}($||($={}));var te,ae=function(e){var t=e.color,a=e.onClick,r=e.label,c=e.type,s=e.marginLeft,i=e.marginRight,l=e.fluid,o=e.gradient,u=e.width,d=e.small,b=e.medium,j=e.disable,m=e.form;return Object(n.jsx)("button",{className:" \n\t\t\t".concat(o?_(t):K(t)," \n\t\t\tm-0 \n\t\t\tinline-flex items-center \n\t\t\toutline-none rounded focus:outline-none active:outline-none\n\t\t\tfont-normal \n\t\t\tleading-none \n\t\t\ttransition ease-in-out duration-150 \n\t\t\t").concat(d||b?"text-sm":"","\n\t\t\t").concat(d?"py-1":b?"py-2":"py-3","\n\t\t\t").concat(d?"px-2":b?"px-3":"px-4","\n\t\t\t").concat(s?"ml-2":"","\n\t\t\t").concat(i?"mr-2":"","\n\t\t\t").concat(l?"w-full":"","\n\t\t\t").concat(j?"pointer-events-none opacity-50":"","\n\t\t"),type:c||$.button,onClick:a,style:{width:u},form:m,children:r})},ne=function(e){var t=e.name,a=e.color,r=e.onClick,c=e.marginLeft,s=e.marginRight,i=e.small,l=e.medium,o=e.disable;return Object(n.jsx)("button",{className:" \n\t\t\t".concat(K(a)," \n\t\t\tm-0 \n\t\t\tinline-flex items-center \n\t\t\toutline-none rounded focus:outline-none active:outline-none \n\t\t\ttransition ease-in-out duration-150 \n\t\t\t").concat(i?"py-2":l?"py-1":"py-2","\n\t\t\t").concat(i||l?"px-2":"px-3","\n\t\t\t").concat(c?"ml-2":"","\n\t\t\t").concat(s?"mr-2":"","\n\t\t\t").concat(o?"pointer-events-none opacity-50":"","\n\t\t"),onClick:r,children:Object(n.jsx)(X,{name:t,color:W.WHITE,size:i?19:void 0})})};!function(e){e.text="text",e.email="email",e.password="password"}(te||(te={}));var re=function(e){var t=e.value,a=e.type,r=e.placeholder,c=e.onChange;return Object(n.jsx)("input",{className:"".concat(ee),type:a||te.text,value:t,placeholder:r,onChange:function(e){return c(e.target.value)}})},ce=function(e){var t=e.value,a=e.onChange,r=e.options;return Object(n.jsx)("select",{className:"".concat(ee," cursor-pointer"),value:t,onChange:function(e){return a(e.target.value)},children:r.map((function(e){return Object(n.jsx)("option",{value:e.value,children:e.text},e.value)}))})},se=function(e){var t=e.label,a=e.checked,r=e.onClick,c=e.color,s=e.small,i=e.radio,l=e.marginBottom,o=e.marginTop;return Object(n.jsxs)("div",{className:"flex ".concat(l?"mb-2":""," ").concat(o?"mt-2":""),children:[Object(n.jsx)("div",{className:"relative flex-none mr-3",style:{height:s?24:40},children:Object(n.jsx)(ie,{checked:a,onClick:r,color:c,small:s,radio:i})}),Object(n.jsx)("div",{style:{paddingTop:s?2:10,lineHeight:"20px"},onClick:r,children:t})]})},ie=function(e){var t=e.checked,a=e.onClick,r=e.color,c=e.small,s=c?"24px":"40px",i=c?"6px":"10px";return e.radio?Object(n.jsx)("div",{className:"inline-block ".concat(Q(r)," cursor-pointer rounded-xl ").concat(t?q(r):"bg-gray-200"),onClick:a,children:Object(n.jsx)("div",{style:{width:s,height:s,padding:i},children:t&&Object(n.jsx)("div",{className:"w-full h-full rounded-lg ".concat(J(r))})})}):Object(n.jsx)("div",{className:"inline-block ".concat(Q(r)," cursor-pointer rounded ").concat(t?q(r):"bg-gray-200"),onClick:a,children:Object(n.jsx)("svg",{className:"block fill-current inherit",width:s,height:s,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t&&Object(n.jsx)("path",{d:"M18.914 5.81a1.5 1.5 0 01.276 2.104l-7.68 10a1.5 1.5 0 01-2.331.06 139.504 139.504 0 01-2.525-3.048c-.442-.55-.863-1.09-1.202-1.547-.309-.416-.636-.88-.804-1.23a1.5 1.5 0 112.704-1.298c.002.003.037.068.138.219.093.14.219.316.372.523.307.414.702.92 1.132 1.456.415.517.856 1.056 1.273 1.558l6.543-8.52a1.5 1.5 0 012.104-.277z"})})})},le=a(100),oe=function(e){return Object(n.jsx)("div",{className:"fixed inset-0 p-4 overflow-auto z-50",style:{background:"rgba(0,0,0,0.6)"},onClick:e.cancel,children:Object(n.jsx)("div",{className:"p-4 mx-auto bg-white rounded",style:{maxWidth:e.minWidth?void 0:600,width:e.minWidth},onClick:function(e){return e.stopPropagation()},children:e.loading?Object(n.jsx)("div",{className:"",children:"Loading..."}):e.children})})},ue=function(e){return Object(n.jsx)("div",{className:"bg-red-200 rounded text-red-700 px-4 py-2 mt-3",children:e.msg})},de=function(e){return Object(n.jsx)("div",{className:"flex mt-3",children:e.children})},be=function(e){var t=e.variableData.variableName,a=""!==t,c=Object(r.useState)(e.variableData.variableName),i=Object(s.a)(c,2),l=i[0],o=i[1],u=Object(r.useState)(e.variableData.variableLabel),d=Object(s.a)(u,2),b=d[0],j=d[1],m=Object(r.useState)(e.variableData.rawVarName),p=Object(s.a)(m,2),h=p[0],x=p[1],v=Object(r.useState)(""),O=Object(s.a)(v,2),f=O[0],y=O[1];function w(){return(w=Object(N.a)(g.a.mark((function a(){var n,r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(l.trim()){a.next=3;break}return y("Missing name"),a.abrupt("return");case 3:if(n={variableName:l,variableLabel:b,variableType:e.variableData.variableType,rawVarName:h},!(r=e.createOrUpdateVariable(n,t))){a.next=8;break}return y(r),a.abrupt("return");case 8:e.cancel();case 9:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function C(){return(C=Object(N.a)(g.a.mark((function a(){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.deleteVariable(t),e.cancel();case 2:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.jsxs)(oe,{cancel:e.cancel,children:[Object(n.jsx)("div",{className:"pb-1 leading-none",children:"From variable name"}),Object(n.jsx)(ce,{value:h,onChange:function(e){return x(String(e))},options:[{value:"UNSELECTED",text:"Unselected"}].concat(Object(le.a)(e.rawVarList.map((function(e){return{value:e.variableName,text:"".concat(e.variableName," (").concat(e.variableType,")")}}))))}),Object(n.jsx)("div",{className:"mt-3 pb-1 leading-none",children:"To variable name"}),Object(n.jsx)(re,{value:l,onChange:o}),Object(n.jsx)("div",{className:"mt-3 pb-1 leading-none",children:"Label"}),Object(n.jsx)(re,{value:b,onChange:j}),f&&Object(n.jsx)("div",{className:"bg-red-200 rounded text-red-700 px-4 py-2 mt-3",children:f}),Object(n.jsxs)("div",{className:"flex mt-3",children:[Object(n.jsx)(ae,{label:"Save",onClick:function(){return w.apply(this,arguments)},marginRight:!0,color:W.GREEN}),a&&Object(n.jsx)(ae,{label:"Delete",onClick:function(){return C.apply(this,arguments)},marginRight:!0}),Object(n.jsx)(ae,{label:"Cancel",onClick:e.cancel})]})]})},je=function(e){return Object(n.jsxs)("div",{className:"p-6",children:[Object(n.jsxs)("div",{className:"grid grid-cols-12 gap-4 pb-2 font-bold",children:[Object(n.jsx)("div",{className:"py-1 rounded col-span-2",children:"From variable"}),Object(n.jsx)("div",{className:"px-2 py-1 rounded  col-span-1 flex justify-center"}),Object(n.jsx)("div",{className:"py-1 rounded  col-span-2",children:"To variable"}),Object(n.jsx)("div",{className:"py-1 rounded  col-span-4",children:"Label"}),Object(n.jsx)("div",{className:"py-1 rounded  col-span-2",children:"Type"}),Object(n.jsx)("div",{className:"py-1 rounded  col-span-1 cursor-pointer hover:underline",children:"Actions"})]}),e.us.structure.variables.map((function(t){return Object(n.jsxs)("div",{className:"grid grid-cols-12 gap-4 pb-4",children:[Object(n.jsx)("div",{className:"px-2 py-1 rounded bg-red-200 col-span-2",children:t.rawVarName}),Object(n.jsx)("div",{className:"px-2 py-1 rounded bg-red-200 col-span-1 flex justify-center",children:Object(n.jsx)(Z,{name:"arrow-right",size:24})}),Object(n.jsx)("div",{className:"px-2 py-1 rounded bg-red-200 col-span-2",children:t.variableName}),Object(n.jsx)("div",{className:"px-2 py-1 rounded bg-green-200 col-span-4",children:t.variableLabel}),Object(n.jsx)("div",{className:"px-2 py-1 rounded bg-orange-200 col-span-2",children:t.variableType}),Object(n.jsx)("div",{className:"px-2 py-1 rounded bg-gray-200 col-span-1 cursor-pointer hover:underline",onClick:function(){return e.ue.setVariableEditor(t)},children:"Edit"})]},t.variableName)})),Object(n.jsx)(ae,{label:"New variable",onClick:function(){return e.ue.setVariableEditor({variableName:"",variableLabel:"",variableType:"number",rawVarName:"UNSELECTED"})}}),e.ue.variableEditor&&Object(n.jsx)(be,{variableData:e.ue.variableEditor,createOrUpdateVariable:e.us.createOrUpdateVariable,deleteVariable:e.us.deleteVariable,cancel:e.ue.closeAllEditors,rawVarList:e.uv.datasets[O.One].rawVars})]})};a(233),a(241),a(299),a(300);function me(e){var t=Object(r.useState)(""),a=Object(s.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)(!0),l=Object(s.a)(i,2),o=l[0],u=l[1],d=Object(r.useState)(""),b=Object(s.a)(d,2),j=b[0],m=b[1];function p(){return(p=Object(N.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e);case 2:if(a=t.sent){t.next=7;break}return m("Could not reach server at "+E),u(!1),t.abrupt("return");case 7:c(a),u(!1);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){p.apply(this,arguments)}()}),[]),{script:n,loading:o,err:j}}var pe=function(e){var t=me(e.us.structure),a=t.script,r=t.loading;t.err;return Object(n.jsx)(oe,{cancel:e.cancel,loading:r,minWidth:1e3,children:Object(n.jsxs)("div",{className:"flex ",children:[Object(n.jsx)("div",{className:"flex-1 h-full w-full text-xs whitespace-pre-wrap font-mono overflow-auto select-all",children:a}),Object(n.jsxs)("div",{className:"flex-none ml-6 text-right",children:[Object(n.jsx)(ae,{label:"Done",color:W.BLACK,onClick:e.cancel}),Object(n.jsx)("div",{className:"py-1"}),Object(n.jsxs)("div",{className:"flex cursor-pointer",children:[Object(n.jsx)("div",{className:" text-center bg-blue-500 hover:bg-blue-600 rounded-l text-blue-100 px-5 py-2",children:"R"}),Object(n.jsx)("div",{className:" text-center bg-blue-400 hover:bg-blue-600 rounded-r text-white px-5 py-2",onClick:function(){return window.alert("Coming soon")},children:"Stata"})]}),Object(n.jsx)("div",{className:"py-1"}),Object(n.jsx)(ne,{name:"download",color:W.GREEN,onClick:function(){return window.alert("Coming soon")}})]})]})})},he=function(e){return e.uv.readyForAnalysis&&0!==e.us.structure.analyses.length?Object(n.jsxs)("div",{className:"flex h-full w-full overflow-hidden",children:[e.ua.running&&Object(n.jsx)("div",{className:"p-6",children:"Running..."}),!e.ua.running&&!e.ua.everRun&&Object(n.jsx)("div",{className:"p-6",children:'Click "Run" to get results'}),!e.ua.running&&e.ua.everRun&&null===e.ua.tempId&&Object(n.jsx)("div",{className:"p-6",children:"Problem with analysis script. R did not complete the analysis."}),!e.ua.running&&e.ua.everRun&&e.ua.tempId&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"p-6 flex-none bg-gray-100 w-32 lg:w-48",children:e.us.structure.analyses.map((function(e,t){return Object(n.jsxs)("div",{className:"mb-2 text-sm text-gray-600 hover:underline cursor-pointer",onClick:function(){return function(e){var t=window.document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}("Analysis"+(t+1))},children:["Analysis ",t+1]},e.analysisId)}))}),Object(n.jsx)("div",{className:"flex-1 overflow-auto w-0 h-full",children:Object(n.jsx)("div",{className:"mx-auto px-6 pb-6 select-text",style:{maxWidth:1100},children:e.us.structure.analyses.map((function(t,a){return Object(n.jsx)("div",{id:"Analysis"+(a+1),children:t.itemIds.map((function(r,c){return Object(n.jsx)("div",{children:Object(n.jsx)(xe,{id:t.analysisId+"_"+r,title:"Analysis ".concat(a+1,". ").concat(t.analysisLabel," - Variable ").concat(r),description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",sessionId:e.sessionId,successOutputId:e.ua.tempId||"",fileName:"A".concat(a+1,"_").concat(r,"_plot.png")})},r)}))},t.analysisId)}))})})]}),e.ue.scriptViewer&&Object(n.jsx)(pe,{sessionId:e.sessionId,us:e.us,cancel:e.ue.closeAllEditors}),e.ue.exportEditor&&Object(n.jsxs)(oe,{cancel:e.ue.closeAllEditors,children:[Object(n.jsx)("div",{className:"text-lg font-bold",children:"Export options"}),Object(n.jsx)("div",{className:"mt-3",children:Object(n.jsx)(ae,{label:"Download all results as Word template report",color:W.GREEN,onClick:function(){return window.alert("Coming soon")}})}),Object(n.jsx)("div",{className:"mt-3",children:Object(n.jsx)(ae,{label:"Download all results as zip file",color:W.GREEN,onClick:function(){return window.alert("Coming soon")}})}),Object(n.jsx)("div",{className:"mt-3",children:Object(n.jsx)(ae,{label:"Done",onClick:e.ue.closeAllEditors})})]})]}):Object(n.jsx)("div",{className:"p-6",children:'No analyses configured. Go to the "Analyses" tab and add analyses.'})};var xe=function(e){return Object(n.jsx)(ve,{id:e.id,title:e.title,description:e.description,children:Object(n.jsx)("img",{src:"".concat(E,"/stream_file/").concat(e.sessionId,"/").concat(e.successOutputId,"/").concat(e.fileName)})})},ve=function(e){return Object(n.jsxs)("div",{id:e.id,className:"pt-6 pb-2 flex",children:[Object(n.jsxs)("div",{className:"",children:[Object(n.jsx)("div",{className:"font-bold text-xl",children:e.title}),Object(n.jsx)("div",{className:"mt-3 text-gray-600 text-sm",children:e.description}),Object(n.jsx)("div",{className:"mt-4",children:e.children})]}),Object(n.jsx)("div",{className:"ml-4 flex-none",children:Object(n.jsx)(ne,{name:"download",color:W.GREEN,onClick:function(){return window.alert("Coming soon")}})})]})},Oe=function(e){var t=e.indicatorData.indicatorName,a=""!==t,c=Object(r.useState)(e.indicatorData.indicatorName),i=Object(s.a)(c,2),l=i[0],o=i[1],u=Object(r.useState)(e.indicatorData.indicatorLabel),d=Object(s.a)(u,2),b=d[0],j=d[1],m=Object(r.useState)(e.indicatorData.condition),p=Object(s.a)(m,2),h=p[0],x=p[1],v=Object(r.useState)(""),O=Object(s.a)(v,2),f=O[0],y=O[1];function w(){return(w=Object(N.a)(g.a.mark((function a(){var n,r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(l.trim()){a.next=3;break}return y("Missing name"),a.abrupt("return");case 3:if(n={indicatorName:l,indicatorLabel:b,condition:h},!(r=e.createOrUpdateIndicator(n,t))){a.next=8;break}return y(r),a.abrupt("return");case 8:e.cancel();case 9:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function C(){return(C=Object(N.a)(g.a.mark((function a(){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.deleteIndicator(t),e.cancel();case 2:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.jsxs)(oe,{cancel:e.cancel,children:[Object(n.jsx)("div",{className:"pb-1 leading-none",children:"Name"}),Object(n.jsx)(re,{value:l,onChange:o}),Object(n.jsx)("div",{className:"mt-3 pb-1 leading-none",children:"Label"}),Object(n.jsx)(re,{value:b,onChange:j}),Object(n.jsx)("div",{className:"mt-3 pb-1 leading-none",children:"Condition"}),Object(n.jsx)(re,{value:h,onChange:x}),f&&Object(n.jsx)("div",{className:"bg-red-200 rounded text-red-700 px-4 py-2 mt-3",children:f}),Object(n.jsxs)("div",{className:"flex mt-3",children:[Object(n.jsx)(ae,{label:"Save",onClick:function(){return w.apply(this,arguments)},marginRight:!0,color:W.GREEN}),a&&Object(n.jsx)(ae,{label:"Delete",onClick:function(){return C.apply(this,arguments)},marginRight:!0}),Object(n.jsx)(ae,{label:"Cancel",onClick:e.cancel})]})]})},fe=function(e){return Object(n.jsxs)("div",{className:"p-6",children:[Object(n.jsxs)("div",{className:"grid grid-cols-12 gap-4 pb-2 font-bold",children:[Object(n.jsx)("div",{className:"py-1 rounded  col-span-2",children:"ID"}),Object(n.jsx)("div",{className:"py-1 rounded  col-span-3",children:"Label"}),Object(n.jsx)("div",{className:"py-1 rounded  col-span-6",children:"Condition"}),Object(n.jsx)("div",{className:" py-1 rounded col-span-1 cursor-pointer hover:underline",children:"Actions"})]}),e.us.structure.indicators.map((function(t){return Object(n.jsxs)("div",{className:"grid grid-cols-12 gap-4 pb-4",children:[Object(n.jsx)("div",{className:"px-2 py-1 rounded bg-blue-200 col-span-2",children:t.indicatorName}),Object(n.jsx)("div",{className:"px-2 py-1 rounded bg-green-200 col-span-3",children:t.indicatorLabel}),Object(n.jsx)("div",{className:"px-2 py-1 rounded bg-orange-200 col-span-6",children:t.condition}),Object(n.jsx)("div",{className:"px-2 py-1 rounded bg-gray-200 col-span-1 cursor-pointer hover:underline",onClick:function(){return e.ue.setIndicatorEditor(t)},children:"Edit"})]},t.indicatorName)})),Object(n.jsx)(ae,{label:"New indicator",onClick:function(){return e.ue.setIndicatorEditor({indicatorName:"",indicatorLabel:"",condition:""})}}),e.ue.indicatorEditor&&Object(n.jsx)(Oe,{indicatorData:e.ue.indicatorEditor,createOrUpdateIndicator:e.us.createOrUpdateIndicator,deleteIndicator:e.us.deleteIndicator,cancel:e.ue.closeAllEditors})]})},ge="UNSELECTED",ye=function(e){var t=e.analysisData.analysisId,a=""!==t,c=Object(r.useState)(e.analysisData.analysisId),i=Object(s.a)(c,2),l=i[0],o=(i[1],Object(r.useState)(e.analysisData.analysisType)),u=Object(s.a)(o,2),d=u[0],b=(u[1],Object(r.useState)(e.analysisData.analysisLabel)),m=Object(s.a)(b,2),p=m[0],h=m[1],x=Object(r.useState)(e.analysisData.itemIds),v=Object(s.a)(x,2),O=v[0],f=v[1],y=Object(r.useState)(e.analysisData.stratifier||ge),w=Object(s.a)(y,2),C=w[0],E=(w[1],Object(r.useState)("")),k=Object(s.a)(E,2),M=k[0],L=k[1];function S(){return(S=Object(N.a)(g.a.mark((function a(){var n,r,c,s;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(p.trim()){a.next=3;break}return L("You must enter an analysis description"),a.abrupt("return");case 3:if(d!==ge){a.next=6;break}return L("You must select an analysis type"),a.abrupt("return");case 6:if(0!==O.length){a.next=9;break}return L("You must select at least one variable to plot"),a.abrupt("return");case 9:if(!O.includes(ge)){a.next=12;break}return L("You cannot have unselected variables"),a.abrupt("return");case 12:if(n=!1,r=null,C!==ge&&(n=!0,r=C),c={analysisId:l,analysisType:d,analysisLabel:p,itemIds:O,items:[],useStratifier:n,stratifier:r,useDenominator:!1,denominator:null,denominatorCondition:""},!(s=e.us.createOrUpdateAnalysis(c,t))){a.next=20;break}return L(s),a.abrupt("return");case 20:e.ua.resetEverRun(),e.ue.closeAllEditors();case 22:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function D(){return(D=Object(N.a)(g.a.mark((function a(){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.us.deleteAnalysis(t),e.ue.closeAllEditors();case 2:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.jsxs)(oe,{cancel:e.ue.closeAllEditors,minWidth:600,children:[Object(n.jsxs)("div",{className:"",children:[Object(n.jsx)("div",{className:"pb-2 leading-none font-semibold",children:"Analysis description"}),Object(n.jsx)(re,{value:p,onChange:h}),Object(n.jsx)("div",{className:"mt-5 pb-2 leading-none font-semibold",children:"Variables to plot"}),O.map((function(t,a){return Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)("div",{className:"flex-1 mb-2",children:Object(n.jsx)(ce,{value:t,onChange:function(e){return function(e,t){f((function(a){var n=j(a);return n[e]=t,n}))}(a,String(e))},options:[{value:"UNSELECTED",text:"Unselected"}].concat(Object(le.a)(e.rawVarList.map((function(e){return{value:e.variableName,text:"".concat(e.variableName," (").concat(e.variableType,")")}}))))})}),Object(n.jsx)("div",{className:"flex-none ml-2",children:Object(n.jsx)(ne,{name:"minus-sm",onClick:function(){return function(e){f((function(t){var a=j(t);return a.splice(e,1),a}))}(a)},small:!0,color:W.RED})})]},a)})),Object(n.jsx)(ne,{name:"plus-sm",onClick:function(){f((function(e){var t=j(e);return t.push(ge),t}))},small:!0,color:W.GREEN}),Object(n.jsx)("div",{className:"py-2"})]}),M&&Object(n.jsx)(ue,{msg:M}),Object(n.jsxs)(de,{children:[Object(n.jsx)(ae,{label:"Save",onClick:function(){return S.apply(this,arguments)},marginRight:!0,color:W.GREEN}),a&&Object(n.jsx)(ae,{label:"Delete",onClick:function(){return D.apply(this,arguments)},marginRight:!0}),Object(n.jsx)(ae,{label:"Cancel",onClick:e.ue.closeAllEditors})]})]})},Ne=function(e){var t=[O.One,O.Two,O.Three,O.Four].filter((function(t){return e.uv.datasets[t].ready})).map((function(t){return{value:t,text:e.uv.datasets[t].fileName}})),a="UNSELECTED"===e.uv.datasetForAnalysis?[]:e.uv.datasets[e.uv.datasetForAnalysis].rawVars;return 0===t.length?Object(n.jsx)("div",{className:"p-6",children:'No datasets uploaded. Go to the "Uploads" tab and upload a file.'}):Object(n.jsxs)("div",{className:"p-6",children:[Object(n.jsxs)("div",{className:"px-4 py-5 rounded-md bg-green-200 mb-6 inline-block",children:[Object(n.jsx)("div",{className:"font-semibold",children:"Which dataset would you like to analyze?"}),Object(n.jsx)("div",{className:"mt-3 w-96",children:Object(n.jsx)(ce,{value:e.uv.datasetForAnalysis,onChange:function(t){e.us.clearAnalyses(),e.uv.setDatasetForAnalysis(String(t))},options:[{value:"UNSELECTED",text:"Unselected"}].concat(Object(le.a)(t))})})]}),Object(n.jsx)("div",{className:""}),"UNSELECTED"!==e.uv.datasetForAnalysis&&Object(n.jsxs)(n.Fragment,{children:[e.us.structure.analyses.length>0&&Object(n.jsxs)("div",{className:"grid grid-cols-12 gap-4 pb-2 font-bold",children:[Object(n.jsx)("div",{className:"py-1 rounded col-span-2",children:"ID"}),Object(n.jsx)("div",{className:"py-1 rounded  col-span-5",children:"Label"}),Object(n.jsx)("div",{className:" py-1 rounded  col-span-4",children:"Type"}),Object(n.jsx)("div",{className:" py-1 rounded  col-span-1 cursor-pointer hover:underline",children:"Actions"})]}),e.us.structure.analyses.map((function(t,a){return Object(n.jsxs)("div",{className:"grid grid-cols-12 gap-4 pb-4",children:[Object(n.jsxs)("div",{className:"px-4 py-2 rounded bg-orange-200 col-span-2",children:["A",a+1]}),Object(n.jsx)("div",{className:"px-4 py-2 rounded bg-orange-200 col-span-5",children:t.analysisLabel}),Object(n.jsx)("div",{className:"px-4 py-2 rounded bg-orange-200 col-span-4",children:"Variable plot"}),Object(n.jsx)("div",{className:"col-span-1",children:Object(n.jsx)(ae,{label:"Edit",onClick:function(){return e.ue.setAnalysisEditor(t)}})})]},t.analysisId)})),Object(n.jsx)(ae,{label:"New analysis",onClick:function(){return e.ue.setAnalysisEditor({analysisId:"a"+Math.random(),analysisType:u.TableMultiIndicatorDisaggregated,analysisLabel:"",itemIds:["UNSELECTED"],items:[],useStratifier:!1,stratifier:null,useDenominator:!1,denominator:null,denominatorCondition:""})}})]}),e.ue.analysisEditor&&Object(n.jsx)(ye,{analysisData:e.ue.analysisEditor,us:e.us,ue:e.ue,ua:e.ua,rawVarList:a})]})},we=a(239),Ce=(a(302),function(e){return Object(n.jsxs)("svg",{className:"inline-block ".concat(Ee(e.size)," animate-spin text-white"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})});function Ee(e){switch(e){case void 0:case 6:return"w-6 h-6";case 12:return"w-12 h-12";default:return"w-6 h-6"}}var ke,Me,Le=function(e){var t=Object(r.useState)(!1),a=Object(s.a)(t,2),c=a[0],i=a[1],l=Object(r.useState)(""),o=Object(s.a)(l,2),u=o[0],d=o[1];function b(){return(b=Object(N.a)(g.a.mark((function t(a,n){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=9;break}if(404!==a.code){t.next=5;break}return d("No matching session. Click 'End session' and reconnect"),i(!1),t.abrupt("return");case 5:if(403!==a.code){t.next=9;break}return d("A file with this name has already been uploaded"),i(!1),t.abrupt("return");case 9:return t.next=11,e.uv.refreshVarlist(e.datasetNumber,n.filename);case 11:if(!(r=t.sent)){t.next=16;break}return d(r),i(!1),t.abrupt("return");case 16:e.cancel();case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.jsxs)(oe,{cancel:function(){},children:[Object(n.jsx)(we.FilePond,{allowMultiple:!1,allowRevert:!1,server:"".concat(E,"/upload/").concat(e.sessionId),onaddfilestart:function(){return i(!0)},onprocessfile:function(e,t){return b.apply(this,arguments)},credits:!1},"abc"),e.uv.loading&&Object(n.jsx)("div",{className:"p-4 bg-gray-100 rounded-lg",children:Object(n.jsxs)("div",{className:"flex items-center bg-purple-400 text-white text-xs px-4 py-2.5 rounded-lg",children:[Object(n.jsx)(Ce,{}),Object(n.jsx)("div",{className:"ml-4",children:"Processing varlist..."})]})}),u&&Object(n.jsx)("div",{className:"p-4 bg-red-200 text-red-800 rounded-lg",children:u}),!c&&Object(n.jsx)("div",{className:"flex mt-4",children:Object(n.jsx)(ae,{label:"Cancel",onClick:e.cancel})})]})},Se=function(e){return Object(n.jsxs)("div",{className:"p-6 w-full overflow-auto grid grid-cols-1 lg:grid-cols-2 gap-6",children:[[{dn:O.One,title:"Dataset 1. Facility inventory"},{dn:O.Two,title:"Dataset 2. Quality of care record review"},{dn:O.Three,title:"Dataset 3. Data verification and systems assessment (facility level)"},{dn:O.Four,title:"Dataset 4. Data verification and systems assessment (district level)"}].map((function(t){var a=e.uv.datasets[t.dn].ready;return Object(n.jsxs)("div",{className:"col-span-1 bg-gray-100 rounded",children:[Object(n.jsx)("div",{className:"font-bold ".concat(a?"bg-green-200":"bg-blue-200"," rounded-t p-3"),children:t.title}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)("div",{className:"px-4 py-3 flex-1",children:e.uv.deleting[t.dn]?Object(n.jsx)("div",{className:"",children:"Deleting..."}):e.uv.deletingErr[t.dn]?Object(n.jsx)("div",{className:"text-red-600",children:e.uv.deletingErr[t.dn]}):a?Object(n.jsxs)("div",{className:"grid grid-cols-4 col-gap-4 row-gap-2",children:[Object(n.jsx)("div",{className:"col-span-2",children:"Uploaded"}),Object(n.jsx)("div",{className:"col-span-2",children:"\u2713"}),Object(n.jsx)("div",{className:"col-span-2",children:"File name"}),Object(n.jsx)("div",{className:"col-span-2",children:e.uv.datasets[t.dn].fileName}),Object(n.jsx)("div",{className:"col-span-2",children:"Number of variables"}),Object(n.jsx)("div",{className:"col-span-2",children:e.uv.datasets[t.dn].rawVars.length})]}):Object(n.jsx)("div",{className:"text-gray-500",children:"Not uploaded"})}),Object(n.jsx)("div",{className:"px-4 py-3 flex-none",children:a?Object(n.jsx)(ne,{name:"trash",onClick:function(){return e.uv.deleteDataset(t.dn)},color:W.GRAY}):Object(n.jsx)(ne,{name:"cloud-upload",onClick:function(){return e.ue.setUploadsEditor(t.dn)}})})]})]},t.dn)})),e.ue.uploadsEditor&&Object(n.jsx)(Le,{datasetNumber:e.ue.uploadsEditor,sessionId:e.sessionId,uv:e.uv,cancel:e.ue.closeAllEditors})]})},De=function(e){function t(e){var t=window.document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}var a=Object(r.useState)(!0),c=Object(s.a)(a,2),i=c[0],l=c[1],o=Object(r.useState)(!0),u=Object(s.a)(o,2),d=u[0],b=u[1],j=Object(r.useState)(!0),m=Object(s.a)(j,2),p=m[0],h=m[1],x=Object(r.useState)(!0),v=Object(s.a)(x,2),f=v[0],g=v[1],y=Object(r.useState)(!0),N=Object(s.a)(y,2),w=N[0],C=N[1],E=Object(r.useState)(!0),k=Object(s.a)(E,2),M=k[0],L=k[1],S=Object(r.useState)(!0),D=Object(s.a)(S,2),A=D[0],I=D[1],V=Object(r.useState)(!0),z=Object(s.a)(V,2),F=z[0],H=z[1],R=Object(r.useState)(!0),T=Object(s.a)(R,2),U=T[0],B=T[1],G=Object(r.useState)(!0),P=Object(s.a)(G,2),W=P[0],Y=P[1],K=Object(r.useState)(!0),_=Object(s.a)(K,2),q=_[0],J=_[1],Q=Object(r.useState)(!0),Z=Object(s.a)(Q,2),X=Z[0],$=Z[1],ee=Object(r.useState)(!0),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],re=Object(r.useState)(!0),ie=Object(s.a)(re,2),oe=ie[0],ue=ie[1],de=Object(r.useState)(!0),be=Object(s.a)(de,2),je=be[0],me=be[1],pe=Object(r.useState)("UNSELECTED"),he=Object(s.a)(pe,2),xe=he[0],ve=he[1],Oe=Object(r.useState)("UNSELECTED"),fe=Object(s.a)(Oe,2),ge=fe[0],ye=fe[1],Ne=Object(r.useState)("UNSELECTED"),we=Object(s.a)(Ne,2),Ce=we[0],Ee=we[1],ke=Object(r.useState)("UNSELECTED"),Me=Object(s.a)(ke,2),Le=Me[0],Se=Me[1],De=Object(r.useState)("UNSELECTED"),Ve=Object(s.a)(De,2),ze=Ve[0],Fe=Ve[1],He=Object(r.useState)("UNSELECTED"),Re=Object(s.a)(He,2),Te=Re[0],Ue=Re[1],Be=Object(r.useState)("UNSELECTED"),Ge=Object(s.a)(Be,2),Pe=Ge[0],We=Ge[1],Ye=Object(r.useState)("UNSELECTED"),Ke=Object(s.a)(Ye,2),_e=Ke[0],qe=Ke[1],Je=e.uv.datasets[O.One].ready,Qe=e.uv.datasets[O.Two].ready,Ze=e.uv.datasets[O.Three].ready,Xe=e.uv.datasets[O.Four].ready,$e=!Je&&!Qe&&!Ze&&!Xe,et=Je?e.uv.datasets[O.One].rawVars:[],tt=Object(r.useMemo)((function(){return[{value:"UNSELECTED",text:"Unselected"}].concat(Object(le.a)(et.map((function(e){return{value:e.variableName,text:"".concat(e.variableName," (").concat(e.variableType,")")}}))))}),[et]);return Object(n.jsxs)("div",{className:"flex h-full w-full overflow-hidden",children:[Object(n.jsxs)("div",{className:"p-6 flex-none bg-gray-100",children:[Object(n.jsx)("div",{className:"mb-2 text-sm ".concat(Je?"text-gray-600 hover:underline cursor-pointer":"text-gray-400"),onClick:Je?function(){return t("Dataset1")}:void 0,children:"Dataset 1"}),Object(n.jsx)("div",{className:"mb-2 text-sm ".concat(Qe?"text-gray-600 hover:underline cursor-pointer":"text-gray-400"),onClick:Qe?function(){return t("Dataset2")}:void 0,children:"Dataset 2"}),Object(n.jsx)("div",{className:"mb-2 text-sm ".concat(Ze?"text-gray-600 hover:underline cursor-pointer":"text-gray-400"),onClick:Ze?function(){return t("Dataset3")}:void 0,children:"Dataset 3"}),Object(n.jsx)("div",{className:"mb-2 text-sm ".concat(Xe?"text-gray-600 hover:underline cursor-pointer":"text-gray-400"),onClick:Xe?function(){return t("Dataset4")}:void 0,children:"Dataset 4"})]}),Object(n.jsx)("div",{className:"flex-1 overflow-auto w-0 h-full",children:Object(n.jsxs)("div",{className:"mx-auto px-6 pb-6 select-text",style:{maxWidth:1100},children:[$e&&Object(n.jsx)("div",{className:"p-6",children:'No datasets uploaded. Go to "Uploads" and upload a dataset to get started.'}),Object(n.jsxs)(Ie,{id:"Dataset1",title:"Dataset 1. Facility inventory",isReady:Je,children:[Object(n.jsx)(Ae,{title:"Modules and questionnaires",children:Object(n.jsxs)("div",{className:"grid grid-cols-2 col-gap-6 row-gap-8",children:[Object(n.jsxs)("div",{className:"col-span-1",children:[Object(n.jsx)(se,{label:"Service availability",checked:i,onClick:function(){return l(!i)},small:!0}),Object(n.jsxs)("div",{className:"mt-2 ml-6 ".concat(i?"":"opacity-25"),children:[Object(n.jsx)(se,{label:"Core",checked:i&&d,onClick:function(){return b(!0)},small:!0,radio:!0,marginBottom:!0}),Object(n.jsx)(se,{label:"Core + additional",checked:i&&!d,onClick:function(){return b(!1)},small:!0,radio:!0,marginBottom:!0}),Object(n.jsx)(se,{label:"Building infrastructure [supplementary]",checked:i&&p,onClick:function(){return h(!p)},small:!0})]}),Object(n.jsx)("div",{className:"py-4"}),Object(n.jsx)(se,{label:"Service readiness",checked:f,onClick:function(){return g(!f)},small:!0}),Object(n.jsx)("div",{className:"mt-2 ml-6 ".concat(f?"":"opacity-25"),children:Object(n.jsx)(se,{label:"Core",checked:f,small:!0,radio:!0})})]}),Object(n.jsxs)("div",{className:"col-span-1",children:[Object(n.jsx)(se,{label:"Quality of care and safety",checked:w,onClick:function(){return C(!w)},small:!0}),Object(n.jsx)("div",{className:"mt-2 ml-6 ".concat(w?"":"opacity-25"),children:Object(n.jsx)(se,{label:"Core",checked:w,small:!0,radio:!0})}),Object(n.jsx)("div",{className:"py-4"}),Object(n.jsx)(se,{label:"Management and finance",checked:M,onClick:function(){return L(!M)},small:!0}),Object(n.jsxs)("div",{className:"mt-2 ml-6 ".concat(M?"":"opacity-25"),children:[Object(n.jsx)(se,{label:"Core",checked:M&&A,onClick:function(){return I(!0)},small:!0,radio:!0,marginBottom:!0}),Object(n.jsx)(se,{label:"Core + additional",checked:M&&!A,onClick:function(){return I(!1)},small:!0,radio:!0})]})]})]})}),Object(n.jsxs)(Ae,{title:"Survey design",children:[Object(n.jsxs)("div",{className:"grid grid-cols-2 col-gap-6 mb-2",children:[Object(n.jsx)("div",{className:"col-span-1",children:Object(n.jsx)(se,{label:"Use sampling weights",checked:F,onClick:function(){return H(!F)},small:!0,marginBottom:!0})}),Object(n.jsx)("div",{className:"col-span-1 h-9",children:F&&Object(n.jsx)(ce,{value:xe,onChange:function(e){return ve(String(e))},options:tt})})]}),Object(n.jsxs)("div",{className:"grid grid-cols-2 col-gap-6 mb-2",children:[Object(n.jsx)("div",{className:"col-span-1",children:Object(n.jsx)(se,{label:"Use sampling strata",checked:U,onClick:function(){return B(!U)},small:!0,marginBottom:!0})}),Object(n.jsx)("div",{className:"col-span-1 h-9",children:U&&Object(n.jsx)(ce,{value:ge,onChange:function(e){return ye(String(e))},options:tt})})]}),Object(n.jsxs)("div",{className:"grid grid-cols-2 col-gap-6 mb-2",children:[Object(n.jsx)("div",{className:"col-span-1",children:Object(n.jsx)(se,{label:"Filter non-consented",checked:W,onClick:function(){return Y(!W)},small:!0})}),Object(n.jsx)("div",{className:"col-span-1 h-9",children:W&&Object(n.jsx)(ce,{value:Ce,onChange:function(e){return Ee(String(e))},options:tt})})]}),Object(n.jsxs)("div",{className:"grid grid-cols-2 col-gap-6",children:[Object(n.jsx)("div",{className:"col-span-1",children:Object(n.jsx)(se,{label:"Filter non-functional facilities",checked:q,onClick:function(){return J(!q)},small:!0})}),Object(n.jsx)("div",{className:"col-span-1 h-9",children:q&&Object(n.jsx)(ce,{value:Le,onChange:function(e){return Se(String(e))},options:tt})})]})]}),Object(n.jsxs)(Ae,{title:"Stratifiers",children:[Object(n.jsxs)("div",{className:"grid grid-cols-2 col-gap-6 mb-2",children:[Object(n.jsx)("div",{className:"col-span-1",children:Object(n.jsx)(se,{label:"Administration level",checked:X,onClick:function(){return $(!X)},small:!0,marginBottom:!0})}),Object(n.jsx)("div",{className:"col-span-1 h-9",children:X&&Object(n.jsx)(ce,{value:ze,onChange:function(e){return Fe(String(e))},options:tt})})]}),Object(n.jsxs)("div",{className:"grid grid-cols-2 col-gap-6 mb-2",children:[Object(n.jsx)("div",{className:"col-span-1",children:Object(n.jsx)(se,{label:"Urban/rural",checked:ae,onClick:function(){return ne(!ae)},small:!0,marginBottom:!0})}),Object(n.jsx)("div",{className:"col-span-1 h-9",children:ae&&Object(n.jsx)(ce,{value:Te,onChange:function(e){return Ue(String(e))},options:tt})})]}),Object(n.jsxs)("div",{className:"grid grid-cols-2 col-gap-6 mb-2",children:[Object(n.jsx)("div",{className:"col-span-1",children:Object(n.jsx)(se,{label:"Facility type",checked:oe,onClick:function(){return ue(!oe)},small:!0,marginBottom:!0})}),Object(n.jsx)("div",{className:"col-span-1 h-9",children:oe&&Object(n.jsx)(ce,{value:Pe,onChange:function(e){return We(String(e))},options:tt})})]}),Object(n.jsxs)("div",{className:"grid grid-cols-2 col-gap-6",children:[Object(n.jsx)("div",{className:"col-span-1",children:Object(n.jsx)(se,{label:"Managing authority (public/private)",checked:je,onClick:function(){return me(!je)},small:!0})}),Object(n.jsx)("div",{className:"col-span-1 h-9",children:je&&Object(n.jsx)(ce,{value:_e,onChange:function(e){return qe(String(e))},options:tt})})]})]})]}),Object(n.jsxs)(Ie,{id:"Dataset2",title:"Dataset 2. Quality of care record review",isReady:Qe,children:[Object(n.jsx)(Ae,{title:"Modules and questionnaires"}),Object(n.jsx)(Ae,{title:"Survey design"}),Object(n.jsx)(Ae,{title:"Stratifiers"})]}),Object(n.jsxs)(Ie,{id:"Dataset3",title:"Dataset 3. Data verification and systems assessment (facility level)",isReady:Ze,children:[Object(n.jsx)(Ae,{title:"Modules and questionnaires"}),Object(n.jsx)(Ae,{title:"Survey design"}),Object(n.jsx)(Ae,{title:"Stratifiers"})]}),Object(n.jsxs)(Ie,{id:"Dataset4",title:"Dataset 4. Data verification and systems assessment (district level)",isReady:Xe,children:[Object(n.jsx)(Ae,{title:"Modules and questionnaires"}),Object(n.jsx)(Ae,{title:"Survey design"}),Object(n.jsx)(Ae,{title:"Stratifiers"})]})]})})]})},Ae=function(e){return Object(n.jsxs)("div",{className:"col-span-1 bg-gray-100 rounded",children:[Object(n.jsx)("div",{className:"px-4 pt-4 pb-3 flex font-bold leading-none bg-gray-200 rounded-t",children:e.title}),Object(n.jsx)("div",{className:"px-4 py-5",children:e.children})]})},Ie=function(e){return e.isReady?Object(n.jsxs)("div",{id:e.id,className:"pt-6 pb-4",children:[Object(n.jsx)("div",{className:"font-bold text-xl leading-none",children:e.title}),Object(n.jsx)("div",{className:"mt-5 w-full grid grid-cols-1 gap-6",children:e.isReady?e.children:Object(n.jsx)("div",{className:"text-gray-400",children:"Not uploaded"})})]}):null},Ve=function(e){return Object(n.jsxs)("div",{className:"h-screen flex overflow-hidden",children:[Object(n.jsx)("div",{className:"hidden md:flex md:flex-shrink-0",children:Object(n.jsx)("div",{className:"flex flex-col",style:{width:e.width},children:Object(n.jsx)("div",{className:"flex flex-col h-0 flex-1 bg-blue-800",children:Object(n.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[Object(n.jsx)("div",{className:"flex items-center flex-shrink-0 px-4 text-white font-bold text-2xl tracking-wider leading-snug",children:e.title}),Object(n.jsx)("nav",{className:"mt-6 px-2 bg-blue-800 space-y-1",children:e.tabs.map((function(t){return Object(n.jsxs)("span",{className:t.tab===e.tab?"cursor-pointer flex items-center px-2 py-2 text-sm leading-5 font-medium text-white rounded-md bg-blue-900 focus:outline-none focus:bg-blue-700 transition ease-in-out duration-150":"cursor-pointer flex items-center px-2 py-2 text-sm leading-5 font-medium text-blue-300 rounded-md hover:text-white hover:bg-blue-700 focus:outline-none focus:text-white focus:bg-blue-700 transition ease-in-out duration-150",onClick:function(){return e.setTab(t.tab)},children:[Object(n.jsx)(X,{name:t.icon}),Object(n.jsx)("span",{className:"ml-3",children:t.label})]},t.tab)}))}),Object(n.jsx)("div",{className:"flex-1"}),Object(n.jsx)("nav",{className:"mt-5 px-2 bg-blue-800 space-y-1",children:e.bottomButtons.map((function(e){return Object(n.jsxs)("span",{className:"cursor-pointer flex items-center px-2 py-2 text-sm leading-5 font-medium text-blue-300 rounded-md hover:text-white hover:bg-blue-700 focus:outline-none focus:text-white focus:bg-blue-700 transition ease-in-out duration-150",onClick:e.onClick,children:[Object(n.jsx)(X,{name:e.icon}),Object(n.jsx)("span",{className:"ml-3",children:e.label})]},e.label)}))})]})})})}),Object(n.jsx)("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:Object(n.jsxs)("main",{className:"flex-1 flex flex-col h-full w-full focus:outline-none",children:[Object(n.jsxs)("div",{className:"flex-none px-6 py-3 flex items-center bg-gray-200 h-16 overflow-hidden",children:[Object(n.jsx)("div",{className:"text-2xl font-bold text-blue-700",children:e.header}),Object(n.jsx)("div",{className:"flex-1"}),Object(n.jsx)("div",{className:"flex items-center",children:e.buttons})]}),Object(n.jsx)("div",{className:"flex-1 h-0 w-full overflow-hidden",children:e.children})]})})]})};!function(e){e.Uploads="Uploads",e.Configuration="Configuration",e.Variables="Variables",e.Indicators="Indicators",e.Analyses="Analyses",e.Results="Results"}(Me||(Me={}));var ze=(ke={},Object(d.a)(ke,Me.Uploads,"Uploads"),Object(d.a)(ke,Me.Configuration,"Configuration"),Object(d.a)(ke,Me.Variables,"Variables"),Object(d.a)(ke,Me.Indicators,"Indicators"),Object(d.a)(ke,Me.Analyses,"Analyses"),Object(d.a)(ke,Me.Results,"Results"),ke),Fe=function(e){var t=Object(b.a)(),a=(t.t,t.i18n,Object(r.useState)(Me.Uploads)),c=Object(s.a)(a,2),i=c[0],l=c[1],o=p(),u=function(e){var t=Object(r.useState)(T),a=Object(s.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)(!1),l=Object(s.a)(i,2),o=l[0],u=l[1],b=Object(r.useState)("UNSELECTED"),j=Object(s.a)(b,2),m=j[0],p=j[1],h=Object(r.useState)(B()),x=Object(s.a)(h,2),v=x[0],O=x[1],f=Object(r.useState)(P()),w=Object(s.a)(f,2),C=w[0],E=w[1];function k(){return(k=Object(N.a)(g.a.mark((function t(a,n){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.next=3,D(e,n);case 3:if(r=t.sent){t.next=7;break}return u(!1),t.abrupt("return","Problem parsing uploaded file. File may not be correct format.");case 7:return c((function(e){return Object(y.a)(Object(y.a)({},e),{},Object(d.a)({},a,{rawVars:r,fileName:n,ready:!0}))})),u(!1),t.abrupt("return","");case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(){return(M=Object(N.a)(g.a.mark((function t(a){var r,s,i,l,o,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=B())[a]=!0,O(r),E(P()),s=n[a].fileName,t.next=7,I(e,s);case 7:if(i=t.sent,l=i.error,o=i.msg,!l){t.next=16;break}return(u=P())[a]=o,E(u),O(B()),t.abrupt("return");case 16:c((function(e){return Object(y.a)(Object(y.a)({},e),{},Object(d.a)({},a,{rawVars:[],fileName:"",ready:!1}))})),O(B());case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var L="UNSELECTED"===m?"":n[m].ready?n[m].fileName:"";return{refreshVarlist:function(e,t){return k.apply(this,arguments)},deleteDataset:function(e){return M.apply(this,arguments)},loading:o,deleting:v,deletingErr:C,datasets:n,readyForAnalysis:"UNSELECTED"!==m,datasetForAnalysis:m,fileNameForAnalysis:L,setDatasetForAnalysis:p}}(e.sessionId),j=function(){var e=Object(r.useState)(void 0),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(void 0),i=Object(s.a)(c,2),l=i[0],o=i[1],u=Object(r.useState)(void 0),d=Object(s.a)(u,2),b=d[0],j=d[1],m=Object(r.useState)(void 0),p=Object(s.a)(m,2),h=p[0],x=p[1],v=Object(r.useState)(!1),O=Object(s.a)(v,2),f=O[0],g=O[1],y=Object(r.useState)(!1),N=Object(s.a)(y,2),w=N[0],C=N[1];return{variableEditor:a,setVariableEditor:n,indicatorEditor:l,setIndicatorEditor:o,analysisEditor:b,setAnalysisEditor:j,uploadsEditor:h,setUploadsEditor:x,scriptViewer:f,setScriptViewer:g,exportEditor:w,setExportEditor:C,closeAllEditors:function(){n(void 0),o(void 0),j(void 0),x(void 0),g(!1),C(!1)}}}(),m=function(e){var t=Object(r.useMemo)((function(){return e}),[e]),a=Object(r.useState)(!1),n=Object(s.a)(a,2),c=n[0],i=n[1],l=Object(r.useState)(!1),o=Object(s.a)(l,2),u=o[0],d=o[1],b=Object(r.useState)(null),j=Object(s.a)(b,2),m=j[0],p=j[1];function h(){return(h=Object(N.a)(g.a.mark((function e(a,n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),p(null),e.next=4,H(t,a,n);case 4:r=e.sent,console.log("NEW TEMP ID IS",r),p(r),d(!1),i(!0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{run:function(e,t){return h.apply(this,arguments)},running:u,tempId:m,everRun:c,resetEverRun:function(){i(!1)}}}(e.sessionId);return Object(n.jsx)("div",{className:"font-inter select-none",children:Object(n.jsxs)(Ve,{title:"HHFA Analysis Platform",tab:i,setTab:l,tabs:[{tab:Me.Uploads,label:ze[Me.Uploads],icon:"cloud-upload"},{tab:Me.Analyses,label:ze[Me.Analyses],icon:"calculator"},{tab:Me.Results,label:ze[Me.Results],icon:"presentation-chart-bar"}],bottomButtons:[{label:"End session",icon:"logout",onClick:e.resetSession}],width:180,header:ze[i],buttons:Object(n.jsx)(n.Fragment,{children:i===Me.Results&&!m.running&&u.readyForAnalysis&&o.structure.analyses.length>0&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ae,{label:m.everRun?"Re-run":"Run",onClick:function(){return m.run(u.fileNameForAnalysis,o.structure)},color:W.BLACK}),Object(n.jsx)(ae,{label:"Script",color:W.BLUE,onClick:function(){return j.setScriptViewer(!0)},marginLeft:!0}),m.tempId&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(ae,{label:"Export",color:W.GREEN,onClick:function(){return j.setExportEditor(!0)},marginLeft:!0})})]})}),children:[i===Me.Uploads&&Object(n.jsx)(Se,{sessionId:e.sessionId,uv:u,ue:j}),i===Me.Configuration&&Object(n.jsx)(De,{us:o,ue:j,uv:u}),i===Me.Variables&&Object(n.jsx)(je,{us:o,uv:u,ue:j}),i===Me.Indicators&&Object(n.jsx)(fe,{us:o,ue:j}),i===Me.Analyses&&Object(n.jsx)(Ne,{us:o,ue:j,uv:u,ua:m}),i===Me.Results&&Object(n.jsx)(he,{sessionId:e.sessionId,us:o,uv:u,ua:m,ue:j})]})})};function He(e){var t=Object(r.useState)(""),a=Object(s.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)(!1),l=Object(s.a)(i,2),o=l[0],u=l[1],d=Object(r.useState)(""),b=Object(s.a)(d,2),j=b[0],m=b[1],p=Object(r.useState)(!1),h=Object(s.a)(p,2),x=h[0],v=h[1],O=Object(r.useState)(""),f=Object(s.a)(O,2),y=f[0],w=f[1];function C(){return(C=Object(N.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!0),m(""),window.setTimeout(Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:if(t=e.sent){e.next=7;break}return m("Could not connect to "+E),u(!1),e.abrupt("return");case 7:c(t),u(!1);case 9:case"end":return e.stop()}}),e)}))),200);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(N.a)(g.a.mark((function e(){var t,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),w(""),e.next=4,L(n);case 4:if(t=e.sent,a=t.error,r=t.msg,!a){e.next=12;break}return c(""),w(r),v(!1),e.abrupt("return");case 12:c(""),v(!1);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){null!==e&&function(){C.apply(this,arguments)}()}),[e]),{sessionId:n,loading:o,err:j,resetSession:function(){return M.apply(this,arguments)},ending:x,endingErr:y}}var Re=function(){var e=Object(r.useState)(E),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)(null),l=Object(s.a)(i,2),o=l[0],u=l[1],d=He(o),b=d.sessionId,j=d.resetSession,m=d.loading,p=d.err,h=d.ending,x=d.endingErr;return h?Object(n.jsxs)("div",{className:"",children:["Ending session...",Object(n.jsx)("div",{className:"",children:x})]}):b?Object(n.jsx)(Fe,{sessionId:b,resetSession:j}):Object(n.jsx)("div",{className:"select-none font-inter h-full w-full flex items-center justify-center bg-gradient-to-bl from-blue-100 to-blue-200",children:Object(n.jsxs)("form",{className:"px-8 py-6 w-96 mb-16 lg:w-1/3 rounded-md bg-gradient-to-bl from-blue-200 to-blue-300",children:[Object(n.jsx)("div",{className:"font-bold text-center text-xl text-gray-800",children:"HHFA Analysis Platform"}),Object(n.jsx)("div",{className:"mt-2 font-semibold text-center text-blue-700",children:"Demo 22.11.2020"}),Object(n.jsx)("div",{className:"mt-4",children:"Backend URL:"}),Object(n.jsx)("div",{className:"mt-1",children:Object(n.jsx)(re,{value:a,onChange:c})}),m?Object(n.jsx)("div",{className:"mt-4 rounded-md bg-green-300 text-green-800 px-4 py-2",children:"Connecting..."}):p?Object(n.jsx)("div",{className:"mt-4 rounded-md bg-red-300 text-red-800 px-4 py-2",children:p}):null,Object(n.jsx)("div",{className:"mt-4",children:Object(n.jsx)(ae,{label:"Connect",onClick:function(e){e.preventDefault(),E=a,u(Date())},disable:m,type:$.submit})})]})})},Te=document.getElementById("root");if(!Te)throw new Error("No root element");Te.hasChildNodes()?Object(c.hydrate)(Object(n.jsx)(Re,{}),Te):Object(c.render)(Object(n.jsx)(Re,{}),Te)}},[[308,1,2]]]);